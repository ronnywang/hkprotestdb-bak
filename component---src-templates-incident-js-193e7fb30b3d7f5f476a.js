(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"0vUi":function(e,t,n){"use strict";n.r(t),n.d(t,"query",(function(){return D}));var a=n("o0o1"),c=n.n(a),r=(n("ls82"),n("HaE+")),i=n("KQm4"),l=n("q1tI"),u=n.n(l),s=n("9Koi"),d=n("EYWl"),o=n("efpO"),m=n("7oih"),f=n("VUD3"),b=n("4UnJ"),g=n("u+AK"),p=n("AUj8"),E=n("zDcZ"),j=n("SK6D"),O=n("MCrm"),_=n("DlQD"),v=n.n(_),h=n("X00g"),w=n("tRKU"),x=n("kT3S"),y=n("FsDL");t.default=function(e){var t=e.pageContext,n=t.localePath,a=t.allIncidents,_=e.data.cms.incident,D=Object(s.a)(),I=D.i18n,k=D.t,N=Object(E.b)(),S=_[0],C=a.findIndex((function(e){return e.id===S.id})),U=[].concat(Object(i.a)(a.slice(C+1)),Object(i.a)(a.slice(0,C))),K=Object(l.useState)(-1),W=K[0],A=K[1],J=Object(l.useState)([]),L=J[0],M=J[1],T=Object(l.useState)(!0),q=T[0],H=T[1];Object(l.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.location.origin+"/data/incidents/"+S.id+".json").then((function(e){return e.json()}));case 2:t=e.sent,M(t.defendants),H(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=L.map((function(e){return Object.assign({id:e.person.id},e,{status:Object.assign({},e.status,p.b.case["status"+(e.status.id||0)])})})).filter((function(e){return-1==W||[W].includes(e.status.id)})).sort((function(e,t){return e.status&&t.status?p.d.findIndex((function(t){return t===e.status.id}))-p.d.findIndex((function(e){return e===t.status.id})):-1}));return u.a.createElement("div",null,u.a.createElement(m.a,{localePath:n},u.a.createElement(d.a,{title:Object(o.b)(I,S,"name"),description:Object(o.b)(I,S,"desc")}),u.a.createElement("div",null,u.a.createElement(b.a,{images:Object(i.a)(Array(5).keys()).map((function(e){return{url:S["image_"+(e+1)+"_url"]&&S["image_"+(e+1)+"_url"].replace("raw","large")||null,align:S["image_"+(e+1)+"_align"],alignMobile:S["image_"+(e+1)+"_align_mobile"]}})).filter((function(e){return e.url}))},u.a.createElement("div",{className:"header"},u.a.createElement("div",{className:"header__Name"},Object(o.b)(I,S,"name")),u.a.createElement("div",{className:"header__DefendantCount"},k("common.defendant_count",{count:L.length})))),u.a.createElement(f.a,null,u.a.createElement(h.a,null)),u.a.createElement(f.a,null,u.a.createElement("div",{className:N.descriptionWrapper,dangerouslySetInnerHTML:{__html:v()(Object(o.b)(I,S,"desc"))}})),u.a.createElement("div",{className:N.legendWrapper},u.a.createElement(O.a,{filterable:!0,type:"incidents",activeId:W,handleClick:function(e,t){A(t[e].id==W?-1:t[e].id),Object(y.a)("Click",{event_category:"Legend",event_label:Object(o.b)(I,S,"name")+" - "+t[e].title})}})),u.a.createElement(f.a,null,q?u.a.createElement(x.a,null):u.a.createElement(w.a,{selectedDefendants:P,context:"status"})),u.a.createElement("div",{className:N.fullWidthSecondary},u.a.createElement(f.a,{padding:0},u.a.createElement(g.a,{enableImage:!0,items:U.map((function(e){return{id:e.id,name:Object(o.b)(I,e,"name"),imgUrl:e.image_url,to:{page:"template-incident",lang:I.language,obj:e},countText:k("common.defendant_count",{count:e.defendantCount})}}))}))),u.a.createElement(j.a,null))))};var D="3554709299"}}]);
//# sourceMappingURL=component---src-templates-incident-js-193e7fb30b3d7f5f476a.js.map